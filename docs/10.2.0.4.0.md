# oracle db 10.2.0.4.0

## References
* http://www.oracle.com/technetwork/database/options/database-vault/index-090593.html
* http://kamranagayev.com/2009/05/01/step-by-step-installing-oracle-database-10g-release-2-on-linux-centos-and-automate-the-installation-using-linux-shell-script/
* https://community.oracle.com/thread/325437?tstart=0
* http://ivan.kartik.sk/oracle/install_ora10gR2_fedora.html

### Oracle Database Vault 10g Release 2 (10.2.0.4.0)
#### Linux x86-64
##### Configure the Putty client on your local machine for X11 forwarding
* https://github.com/bachmeb/linux-admin/blob/master/docs/common/xming.md

##### Download Oracle Database Vault 10g Release 2 (10.2.0.4.0) for Linux x86-64
* http://download.oracle.com/otn/linux/dv/database_vault_Linux-x86-64_10204.zip

##### Copy the zip file to the server
```
scp database_vault_Linux-x86-64_10204.zip [USERNAME]@[HOSTNAME]:~/Downloads
```
##### Use Putty to connect to the server with X11 forwarding enabled

##### Add the dba group
```
sudo /usr/sbin/groupadd dba
```

##### Create the oracle user
```
sudo /usr/sbin/useradd -g dba oracle
```

##### Edit sysctl.conf
```
sudo nano /etc/sysctl.conf
```

##### Add these lines to the end of the file
```
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default = 262144
net.core.rmem_max = 262144
net.core.wmem_default = 262144
net.core.wmem_max = 262144
```

##### Apply the changes to sysctl.conf
```
sudo /sbin/sysctl -p
```
```c
/*
net.ipv4.ip_forward = 0
net.ipv4.conf.default.rp_filter = 1
net.ipv4.conf.default.accept_source_route = 0
kernel.sysrq = 0
kernel.core_uses_pid = 1
net.ipv4.tcp_syncookies = 1
kernel.msgmnb = 65536
kernel.msgmax = 65536
kernel.shmmax = 68719476736
kernel.shmall = 4294967296
vm.nr_hugepages = 3072
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default = 262144
net.core.rmem_max = 262144
net.core.wmem_default = 262144
net.core.wmem_max = 262144
*/
```

##### Edit the pam/d.login file
```
sudo nano /etc/pam.d/login
```

##### Add these lines
```
# For Oracle DB
session    required     /lib/security/pam_limits.so
```

##### Edit the security/limits.conf file
```
sudo nano /etc/security/limits.conf
```

##### Add these lines
```
oracle    soft  nproc  2047
oracle    hard  nproc  16384
oracle    soft  nofile  1024
oracle    hard  nofile  65536
```


##### Create an installation directory
```
sudo mkdir -p /opt/oracle/10.2.0.4.0
```

##### Give the oracle user and the dba group ownership of the installation directory
```
sudo chown -R oracle:dba /opt/oracle
```

##### Edit .bash_profile for the oracle user
```
sudo nano /home/oracle/.bash_profile
```
##### Add these lines
```
ORACLE_BASE=/opt/oracle
ORACLE_HOME=$ORACLE_BASE/10.2.0.4.0
ORACLE_SID=MY_ORACLE
LD_LIBRARY_PATH=$ORACLE_HOME/lib
PATH=$PATH:$ORACLE_HOME/bin

export ORACLE_BASE ORACLE_HOME ORACLE_SID LD_LIBRARY_PATH PATH
```

##### List the current environment variables
```
env
```

##### Set the same environment variables for your user account
```
export ORACLE_BASE=/opt/oracle
export ORACLE_HOME=$ORACLE_BASE/10.2.0.4.0
export ORACLE_SID=MY_ORACLE
export LD_LIBRARY_PATH=$ORACLE_HOME/lib
export PATH=$PATH:$ORACLE_HOME/bin
```

##### List the current environment variables
```
env
```

##### Go to your Downloads directory
```
cd ~/Downloads
```

##### Unzip the Oracle database file
```
unzip database_vault_Linux-x86-64_10204.zip
```

##### Change to the datavault directory
```
cd datavault/
```

